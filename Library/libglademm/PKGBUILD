# $Id: PKGBUILD,v 1.16 2008/03/17 23:25:39 jgc Exp $
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Kritoke <typeolinux@yahoo.com>
pkgname=libglademm
pkgver=2.6.6
pkgrel=1
pkgdesc="A C++ wrapper for libglade."
arch=(i686 x86_64)
license=('LGPL')
#depends=('libglade>=2.6.2' 'gtkmm>=2.12.5')
depends=('libglade>=2.6.2')
makedepends=('pkgconfig')
options=('!libtool' 'staticlibs')
url="http://gtkmm.sourceforge.net/"
source=(http://ftp.gnome.org/pub/gnome/sources/${pkgname}/2.6/${pkgname}-${pkgver}.tar.bz2)
md5sums=('c4b2440d5e816ff4d692a246bce55dfb')

build() {
  cd ${startdir}/src/${pkgname}-${pkgver}

  sed -i 's|-lglibmm_generate_extra_defs-2.4|& `pkg-config --libs gtk+-3.0` |g' ./tools/extra_defs_gen/Makefile.in

  ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var  --enable-static || return 1
  make || return 1
}

package() {
  cd ${startdir}/src/${pkgname}-${pkgver}
  make DESTDIR=${startdir}/pkg install || return 1
}